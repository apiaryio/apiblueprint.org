<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Developing tools for API Blueprint | API Blueprint</title>

    <link href="/images/favicon-10b3ff24.png" rel="icon" type="image/png" />
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" /><link href="//netdna.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" /><link href="/stylesheets/all.css" rel="stylesheet" /><link href="/stylesheets/highlight.css" rel="stylesheet" />
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/zepto/1.1.6/zepto.min.js"></script>
    <script src="/javascripts/all.js"></script>
  </head>

  <body class="developers">
    <header>
      <div class="container">
        <div class="pull-right">
          <a href="https://twitter.com/apiblueprint" class="twitter-follow-button" data-show-count="false">Follow @apiblueprint</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
          <iframe src="https://ghbtns.com/github-btn.html?user=apiaryio&repo=api-blueprint&type=star&count=true" frameborder="0" scrolling="0" width="105px" height="20px"></iframe>
        </div>

        <hr />

        <div class="navbar-header">
          <a href="/" class="navbar-brand">API Blueprint</a>

          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
          </button>
        </div>

        <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation" id="navbar">
          <ul class="nav navbar-nav navbar-right">
            <li><a class="documentation" href="/documentation/">Docs</a></li>
            <li><a class="tools" href="/tools.html">Tools</a></li>
            <li><a class="developers" href="/developers.html">Developers</a></li>
            <li><a class="support" href="/support.html">Support</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <div class="container page-content">
      <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body>
<p>API Blueprint can be consumed via an API Blueprint parser which outputs <a href="http://api-elements.readthedocs.org/">API Elements</a> which can be processed.</p>

<ul>
<li><a href="#using-the-command-line-tool">Command line tool</a></li>
<li><a href="#using-the-api-blueprint-parsing-service">Parsing service</a></li>
<li><a href="#using-a-parser-binding-nodejs">Node.js binding</a></li>
<li><a href="#using-drafterjs-pure-javascript-parser">JavaScript parser</a></li>
<li><a href="#using-the-native-parser-interface-cc">Native Parser</a></li>
</ul>

<h2 id="api-elements">API Elements</h2>

<p>The <a href="http://api-elements.readthedocs.org/">API Elements</a> is format use recommended format to consume API Blueprint, it supersedes the now deprecated API Blueprint AST. </p>

<p>For example, an HTTP Response can be expressed in API Elements using the following:</p>
<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"element"</span><span class="p">:</span><span class="w"> </span><span class="s2">"httpResponse"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"statusCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"element"</span><span class="p">:</span><span class="w"> </span><span class="s2">"asset"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text/plain"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello World"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>API Elements are built on top of <a href="https://github.com/refractproject/refract-spec">Refract</a>. Refract is a versatile format for recursive structures. Its constructed of many element types which act as building blocks for building data structures and descriptions.</p>

<p>Every Refract element may have 4 attributes, the element name, Refract specific metadata, attributes specified by the element type, and a content value holding the content for the specific element.</p>

<p><strong>NOTE</strong>: <em>There are various tools for consuming Refract in JavaScript such as <a href="https://github.com/apiaryio/fury.js">Fury</a> and <a href="https://github.com/refractproject/minim">minim</a>.</em></p>

<h2 id="parsing-api-blueprint">Parsing API Blueprint</h2>

<h3 id="using-the-command-line-tool">Using the command line tool</h3>

<ol>
<li>
<p>Get Drafter command line tool, for macOS using <a href="https://brew.sh/">Homebrew</a>:</p>
<div class="highlight"><pre class="highlight shell"><code><span class="nv">$ </span>brew <span class="nb">install </span>drafter
</code></pre></div>
<p>See our <a href="https://github.com/apiaryio/drafter#installation">installation instructions for other platforms</a></p>
</li>
<li>
<p>Parse API Blueprint into the Refract API Description namespace:</p>
<div class="highlight"><pre class="highlight shell"><code><span class="nv">$ </span><span class="nb">cat</span> <span class="o">&lt;&lt;</span> <span class="sh">'</span><span class="no">EOF</span><span class="sh">' | drafter --format json
# GET /message
+ Response 200 (text/plain)

        Hello World!
</span><span class="no">EOF
</span><span class="o">{</span>
  <span class="s2">"element"</span>: <span class="s2">"parseResult"</span>,
  <span class="s2">"content"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"element"</span>: <span class="s2">"category"</span>,

 ...
</code></pre></div>
</li>
</ol>

<h3 id="using-the-api-blueprint-parsing-service">Using the API Blueprint parsing service</h3>

<p>You can use the API Blueprint parsing service, full API documentation for the service can be found on <a href="http://docs.apiblueprintapi.apiary.io/">Apiary</a>.</p>
<div class="highlight"><pre class="highlight shell"><code><span class="nv">$ </span>curl <span class="nt">-X</span> POST
    <span class="nt">--header</span> <span class="s2">"Content-Type: text/vnd.apiblueprint"</span> <span class="se">\</span>
    <span class="nt">--header</span> <span class="s2">"Accept: application/vnd.refract.parse-result+json"</span> <span class="se">\</span>
    <span class="nt">--data-binary</span> <span class="s2">"# My API Blueprint"</span> <span class="se">\</span>
    https://api.apiblueprint.org/parser
<span class="o">{</span><span class="s2">"element"</span>:<span class="s2">"parseResult"</span>,<span class="s2">"content"</span>:[<span class="o">{</span><span class="s2">"element"</span>:<span class="s2">"category"</span>,<span class="s2">"meta"</span>:<span class="o">{</span><span class="s2">"classes"</span>:[<span class="s2">"api"</span><span class="o">]</span>,<span class="s2">"title"</span>:<span class="s2">"My API Blueprint"</span><span class="o">}</span>,<span class="s2">"content"</span>:[]<span class="o">}]}</span>
</code></pre></div>
<h3 id="using-a-parser-binding-nodejs">Using a parser binding (Node.js)</h3>

<ol>
<li>
<p>Install binding for your language (e.g. <a href="https://github.com/apiaryio/drafter-npm">Drafter NPM</a> for Node.js)</p>
<div class="highlight"><pre class="highlight shell"><code><span class="nv">$ </span>npm <span class="nb">install </span>drafter
</code></pre></div>
</li>
<li>
<p>Parse your API Blueprint into Refract</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">drafter</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">drafter</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">blueprint</span> <span class="o">=</span> <span class="dl">'''</span><span class="s1">
# GET /message
+ Response 200 (text/plain)

        Hello World!
</span><span class="dl">'''</span><span class="p">;</span>

<span class="nx">protagonist</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">blueprint</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">...</span>
<span class="p">});</span>
</code></pre></div>
</li>
</ol>

<h3 id="using-drafterjs-pure-javascript-parser">Using drafter.js (Pure JavaScript parser)</h3>

<p><a href="https://github.com/apiaryio/drafter.js"><code>drafter.js</code></a> is a pure JavaScript version of the <code>drafter</code> library designed to work in web browsers. It exposes a single <code>parse</code> function which takes an API Blueprint string and options and returns the Refract Parse Result.</p>

<ol>
<li>
<p>Install drafter.js</p>

<p>You may also download drafter.js from the <a href="https://github.com/apiaryio/drafter.js/releases">releases page</a> and reference it in HTML.</p>
<div class="highlight"><pre class="highlight html"><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"./drafter.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"./drafter.js.mem"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div>
</li>
<li>
<p>Parse your API Blueprint into Refract</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">blueprint</span> <span class="o">=</span> <span class="dl">'''</span><span class="s1">
# GET /message
+ Response 200 (text/plain)

        Hello World!
</span><span class="dl">'''</span><span class="p">;</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">drafter</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">blueprint</span><span class="p">,</span> <span class="p">{</span><span class="na">exportSourcemap</span><span class="p">:</span> <span class="kc">true</span><span class="p">});</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</li>
</ol>

<h3 id="using-the-native-parser-interface-cc">Using the native parser interface (C/C++)</h3>

<ol>
<li>Install <a href="https://github.com/apiaryio/drafter">Drafter</a>
</li>
<li>
<p>Parse your API Blueprint</p>
<div class="highlight"><pre class="highlight c"><code><span class="cp">#include &lt;drafter/drafter.h&gt;
</span>
<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">blueprint</span> <span class="o">=</span>
  <span class="s">"# My API</span><span class="se">\n</span><span class="s">"</span>
  <span class="s">"## GET /message</span><span class="se">\n</span><span class="s">"</span>
  <span class="s">"+ Response 200 (text/plain)</span><span class="se">\n</span><span class="s">"</span>
  <span class="s">"</span><span class="se">\n</span><span class="s">"</span>
  <span class="s">"      Hello World!</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>

<span class="n">drafter_parse_options</span><span class="o">*</span> <span class="n">pOpts</span> <span class="o">=</span> <span class="n">drafter_init_parse_options</span><span class="p">();</span>
<span class="n">drafter_set_name_required</span><span class="p">(</span><span class="n">pOpts</span><span class="p">);</span>

<span class="n">drafter_serialize_options</span><span class="o">*</span> <span class="n">sOpts</span> <span class="o">=</span> <span class="n">drafter_init_serialize_options</span><span class="p">();</span>
<span class="n">drafter_set_format</span><span class="p">(</span><span class="n">sOpts</span><span class="p">,</span> <span class="n">DRAFTER_SERIALIZE_JSON</span><span class="p">);</span>

<span class="kt">char</span> <span class="o">*</span><span class="n">result</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="n">DRAFTER_OK</span> <span class="o">==</span> <span class="n">drafter_parse_blueprint_to</span><span class="p">(</span><span class="n">blueprint</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">result</span><span class="p">,</span> <span class="n">pOpts</span><span class="p">,</span> <span class="n">sOpts</span><span class="p">))</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>
    <span class="n">free</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Please see <a href="https://github.com/apiaryio/drafter">Drafter</a> for full API documentation.</p>
</li>
</ol>
</body></html>

    </div>

    <footer>
      <div class="container">
        <div>
          <ul class="social">
              <li>
                <a href="https://stackoverflow.com/questions/tagged/apiblueprint?sort=frequent&pageSize=15">
                  <img src="/images/stackoverflow-994229fe.svg" />
                  <span class="relation">FAQ</span>
                  <span class="service">Stack Overflow</span>
                </a>
              </li>
              <li>
                <a href="https://github.com/apiaryio/api-blueprint/issues">
                  <img src="/images/github-893a5b9a.svg" />
                  <span class="relation">Issues</span>
                  <span class="service">GitHub</span>
                </a>
              </li>
              <li>
                <a href="https://twitter.com/apiblueprint">
                  <img src="/images/twitter-2ade0f64.svg" />
                  <span class="relation">Twitter</span>
                  <span class="service">@apiblueprint</span>
                </a>
              </li>
          </ul>
        </div>

        <hr />

        <div class="info row">
          <div class="brand-block col-md-6">
              <img src="/images/apiblueprint-footer-81a6c64c.svg" alt="API Blueprint Logo" width=38 height=36 />
              <div class="brand-info">
                <span class="brand">API Blueprint</span>
                <span>&copy; 2013—2023</span>
              </div>
            </ul>
          </div>
          <ul class="nav nav-pills col-md-6 text-md-right">
            <li><a class="documentation" href="/documentation/">Docs</a></li>
            <li><a class="tools" href="/tools.html">Tools</a></li>
            <li><a class="developers" href="/developers.html">Developers</a></li>
            <li><a class="support" href="/support.html">Support</a></li>
          </ul>
        </div>
        <div class="license">API Blueprint is released under <a href="https://github.com/apiaryio/api-blueprint/blob/master/LICENSE">MIT License</a></div>
      </div>
    </footer>

    <div class="rocket"></div>
    <div class="moon"></div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

  </body>
</html>
